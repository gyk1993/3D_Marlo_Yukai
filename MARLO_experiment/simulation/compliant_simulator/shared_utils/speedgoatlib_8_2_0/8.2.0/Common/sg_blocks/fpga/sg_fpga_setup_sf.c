/* Copyright 2006-2013 Speedgoat GmbH. */
#define 	S_FUNCTION_LEVEL 	(0xe6d+2045-0x1668)
#undef 		S_FUNCTION_NAME
#define 	S_FUNCTION_NAME 	sg_fpga_setup_sf
#include 	<stddef.h>
#include 	<stdlib.h>
#include 	"simstruc.h" 
#ifdef 		MATLAB_MEX_FILE
#include 	"mex.h"
#endif
#ifndef         MATLAB_MEX_FILE
#include        <windows.h>
#include        "io_xpcimport.h"
#include        "pci_xpcimport.h"
#include        "time_xpcimport.h"
#include        "ioext_xpcimport.h"
#include        "util_xpcimport.h"
#include    	"xpcimports.h"
#endif
#define zdf24515981          ((0x51a+51-0x543))
#define z533b11d03f           ssGetSFcnParam(S,(0x1499+3873-0x23ba))
#define zf81a32dab8           ssGetSFcnParam(S,(0xcc4+5933-0x23f0))
#define z1535296f2d              ssGetSFcnParam(S,(0x1359+1798-0x1a5d))
#define zf768aabc64     ssGetSFcnParam(S,(0x62+1066-0x489))
#define z048dc3d76c         ssGetSFcnParam(S,(0x129c+2936-0x1e10))
#define z2e390019d2         ssGetSFcnParam(S,(0x3ab+2255-0xc75))
#define z61407191e1     ssGetSFcnParam(S,(0x1f8+1643-0x85d))
#define z229876d7a9         ssGetSFcnParam(S,(0x1020+5492-0x258d))
#define zda06aecc0b         ssGetSFcnParam(S,(0x3da+6368-0x1cb2))
#define z702a26a5e9                ssGetSFcnParam(S,(0x183a+1237-0x1d06))
#define z2e6483d505              ((0x988+5712-0x1fd6))
#define z7e2eeaa57c          ((0xc43+660-0xed7))
#define z6a0da049de         ((0xf54+1376-0x14b3))
#define zc5ce4cb81a              ((0x1a68+1503-0x2037))
#define z2b17e2ee3b              ((0x47f+2406-0xde5))
#define THRESHOLD               0.5
static char_T zea4cd01646[(0x100d+2291-0x1800)];static void mdlInitializeSizes(SimStruct*S){uint32_T i;ssSetNumSFcnParams(S,zdf24515981);if(ssGetNumSFcnParams(S)!=ssGetSFcnParamsCount(S)){sprintf(zea4cd01646,"\x57\x72\x6f\x6e\x67\x20\x6e\x75\x6d\x62\x65\x72\x20\x6f\x66\x20\x69\x6e\x70\x75\x74\x20\x61\x72\x67\x75\x6d\x65\x6e\x74\x73\x20\x70\x61\x73\x73\x65\x64\x2e" "\n" "\x25\x64\x20\x61\x72\x67\x75\x6d\x65\x6e\x74\x73\x20\x61\x72\x65\x20\x65\x78\x70\x65\x63\x74\x65\x64" "\n",zdf24515981);ssSetErrorStatus(S,zea4cd01646);return;}ssSetNumContStates(S,(0x9dc+2758-0x14a2));ssSetNumDiscStates(S,(0x548+3652-0x138c));ssSetNumOutputPorts(S,(0xb8+4498-0x124a));ssSetNumInputPorts(S,(0x3a3+5250-0x1825));ssSetNumSampleTimes(S,(0x60a+1162-0xa93));ssSetNumRWork(S,zc5ce4cb81a);ssSetNumIWork(S,z2e6483d505);ssSetNumPWork(S,z2b17e2ee3b);ssSetNumModes(S,(0x32b+5033-0x16d4));ssSetNumNonsampledZCs(S,(0x1a50+888-0x1dc8));for(i=(0x1979+2375-0x22c0);i<zdf24515981;i++){ssSetSFcnParamTunable(S,i,(0x830+692-0xae4));}ssSetOptions(S,SS_OPTION_EXCEPTION_FREE_CODE|SS_OPTION_PLACE_ASAP);}static void mdlInitializeSampleTimes(SimStruct*S){ssSetSampleTime(S,(0x413+5628-0x1a0f),INHERITED_SAMPLE_TIME);ssSetOffsetTime(S,(0x118b+4972-0x24f7),FIXED_IN_MINOR_STEP_OFFSET);}
#define MDL_START
static void mdlStart(SimStruct*S){
#ifndef MATLAB_MEX_FILE
PCIDeviceInfo zeccbadd9b3;void*z1cf2c50191;void*zc402db724f;void*Virtual;void*z57ae561fa4;volatile uint32_T*z2afed1cdc6;volatile uint32_T*z762f04d872;volatile uint8_T*z3283caa368;uint_T i;uint8_T z16ba527520[(0x1af8+2323-0x23f7)];uint16_T z6f813cde47,za4a2434e08;uint32_T zb84c45336e,z2ce3a660d9;uint32_T zd7dc6a39d3,z582cdb4021,z04cf08d130,z44fc0c618c,z374c2aee40,z2a5df66c8e,z0abd2bf124,zd9914327e8,z3fdcb5a4af,z968f5aad03;uint32_T z78caf1ba61;z78caf1ba61=(uint32_T)mxGetPr(z533b11d03f)[(0xb7d+4048-0x1b4d)];switch(z78caf1ba61){case(0x765+435-0x7eb):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x30\x31");z6f813cde47=(0x24c2+1620-0x1441);za4a2434e08=17232;zd9914327e8=(0x1748+678-0x19de);z3fdcb5a4af=(0xdf7+3688-0x1c3f);z0abd2bf124=(0x1040+2842-0x1b4a);z968f5aad03=(0x1a27+585-0x1c50);z04cf08d130=8196;z374c2aee40=8194;z2a5df66c8e=(0x2484+2960-0x1011);break;case(0x338+545-0x42b):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x30\x32");z6f813cde47=(0x1bc0+6939-0x2006);za4a2434e08=17239;zd9914327e8=(0xd57+4932-0x208b);z3fdcb5a4af=(0x176b+1449-0x1d04);z0abd2bf124=(0x21d6+1050-0x25e0);z968f5aad03=(0xabd+5335-0x1f84);z04cf08d130=8196;z374c2aee40=8194;break;case(0x188+6613-0x1a2e):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x30\x33");z6f813cde47=5845;za4a2434e08=16979;zd9914327e8=(0xab4+695-0xd63);z3fdcb5a4af=(0x1ba8+110-0x1c06);z0abd2bf124=(0x773+4668-0x1997);z968f5aad03=(0x972+6265-0x21d3);z04cf08d130=8196;z374c2aee40=8194;z2a5df66c8e=8195;break;case(0x660+7677-0x232d):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x30\x34");z6f813cde47=(0x1b3f+8626-0x261c);za4a2434e08=(0x1d3f+1977-0x1ff4);zd9914327e8=(0x671+5180-0x1a9d);z3fdcb5a4af=(0x1246+3271-0x1efd);z0abd2bf124=(0x63f+2038-0xe25);z968f5aad03=(0xbef+5949-0x231c);z04cf08d130=(0x2314+5351-0x17f7);z374c2aee40=8194;break;case(0x185d+689-0x19d7):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x31\x31");z6f813cde47=(0x23b1+6397-0x25d9);za4a2434e08=21069;zd9914327e8=(0x169+3488-0xef9);z3fdcb5a4af=(0xfc6+3896-0x1ede);z0abd2bf124=(0x107b+4363-0x2176);z968f5aad03=(0x1062+1511-0x1629);z04cf08d130=8196;z374c2aee40=(0x23e2+4424-0x1528);z2a5df66c8e=8195;break;case(0x6c8+6899-0x2083):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x31\x32");z6f813cde47=(0x1fcb+1834-0x1020);za4a2434e08=16971;zd9914327e8=(0xbdd+977-0xf9e);z3fdcb5a4af=(0x10bf+4516-0x2253);z0abd2bf124=(0x10a9+2868-0x1bcd);z968f5aad03=(0x57c+7464-0x2294);z04cf08d130=8196;z374c2aee40=8194;break;case(0x9ea+4334-0x199f):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x31\x33");z6f813cde47=(0x239f+3112-0x18f2);za4a2434e08=17235;zd9914327e8=(0xb47+6464-0x247f);z3fdcb5a4af=(0x11ef+2200-0x1a77);z0abd2bf124=(0x174a+234-0x181c);z968f5aad03=(0x703+8136-0x26b3);z04cf08d130=(0x20a9+8997-0x23ca);z374c2aee40=8194;z2a5df66c8e=(0x2558+782-0x863);break;case(0x9e3+959-0xc68):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x31\x34");z6f813cde47=(0x241d+3148-0x1994);za4a2434e08=(0x24e5+8539-0x263c);zd9914327e8=(0x15fb+3820-0x24d7);z3fdcb5a4af=(0x15e4+3689-0x243d);z968f5aad03=(0x269+5617-0x184a);z0abd2bf124=(0x614+7603-0x23b7);z04cf08d130=8196;z374c2aee40=8194;z2a5df66c8e=8195;break;case(0x14bd+3720-0x2204):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x32\x31");z6f813cde47=5845;za4a2434e08=19520;zd9914327e8=(0xfbb+2768-0x1a6b);z3fdcb5a4af=(0xea+5461-0x161f);z0abd2bf124=(0x64b+7088-0x21db);z968f5aad03=(0x720+3357-0x141d);z04cf08d130=(0x2699+5304-0x15cf);z44fc0c618c=9603;z374c2aee40=9600;z2a5df66c8e=9601;break;default:sprintf(zea4cd01646,"\x62\x6f\x61\x72\x64\x20\x74\x79\x70\x65\x20\x69\x6e\x63\x6f\x72\x72\x65\x63\x74\x2e");ssSetErrorStatus(S,zea4cd01646);return;}if((int_T)mxGetPr(z702a26a5e9)[(0x208b+272-0x219b)]<(0xc1+8751-0x22f0)){if(rl32eGetPCIInfo(z6f813cde47,za4a2434e08,&zeccbadd9b3)){sprintf(zea4cd01646,"\x25\x73\x3a\x20\x62\x6f\x61\x72\x64\x20\x6e\x6f\x74\x20\x70\x72\x65\x73\x65\x6e\x74",z16ba527520);ssSetErrorStatus
(S,zea4cd01646);return;}}else{uint16_T z366b2f03bf,z441f9e6d1b;if(mxGetN(z702a26a5e9)==(0x129a+3638-0x20cf)){z366b2f03bf=(0x70+3500-0xe1c);z441f9e6d1b=(uint16_T)mxGetPr(z702a26a5e9)[(0x1dd2+1066-0x21fc)];}else{z366b2f03bf=(uint16_T)mxGetPr(z702a26a5e9)[(0x961+3345-0x1672)];z441f9e6d1b=(uint16_T)mxGetPr(z702a26a5e9)[(0xa1f+1340-0xf5a)];}if(rl32eGetPCIInfoAtSlot(z6f813cde47,za4a2434e08,(z441f9e6d1b&(0x1a6a+1871-0x20ba))|((z366b2f03bf&(0x821+6417-0x2033))<<(0x83d+6115-0x2018)),&zeccbadd9b3)){sprintf(zea4cd01646,"\x25\x73\x20\x28\x62\x75\x73\x20\x25\x64\x2c\x20\x73\x6c\x6f\x74\x20\x25\x64\x29\x3a\x20\x62\x6f\x61\x72\x64\x20\x6e\x6f\x74\x20\x70\x72\x65\x73\x65\x6e\x74",z16ba527520,z366b2f03bf,z441f9e6d1b);ssSetErrorStatus(S,zea4cd01646);return;}}

z1cf2c50191=(void*)zeccbadd9b3.BaseAddress[(0xb41+581-0xd84)];zc402db724f=(void*)zeccbadd9b3.BaseAddress[(0x2bc+6643-0x1caf)];Virtual=rl32eGetDevicePtr(z1cf2c50191,2097152,RT_PG_USERREADWRITE);z57ae561fa4=rl32eGetDevicePtr(zc402db724f,(0x1f88+4777-0x2231),RT_PG_USERREADWRITE);z2afed1cdc6=(volatile uint32_T*)Virtual;z762f04d872=(volatile uint32_T*)z57ae561fa4;z3283caa368=(volatile uint8_T*)Virtual;ssSetIWorkValue(S,z6a0da049de,(uint32_T)z2afed1cdc6);if(xpceIsModelInit()){real_T start,z19c4ca5f82;uint32_T z812c65ff2f;
z762f04d872[(0xcb9+3638-0x1a83)/(0x11d9+445-0x1392)]|=589824;xpcBusyWait(1e-5);if(z78caf1ba61<(0xe25+4799-0x1fa4)){z3283caa368[(0xd5b+2934-0x10d1)]=(0x147d+2239-0x1d3b);z3283caa368[(0xe67+5322-0x1b31)]=(0x7f8+6154-0x1ffd);}else if(z78caf1ba61==(0x22bf+680-0x2426)){z3283caa368[(0x3c3+6980-0x1f03)]=(0x3bc+3125-0xff0);z3283caa368[(0xdf8+6252-0x2660)]=(0x21bf+1096-0x2602);xpcBusyWait(0.01);
}else{z3283caa368[(0x1794+1745-0x1e61)]=(0xa87+4235-0x1b11);z3283caa368[(0x641+2141-0xe9a)]=(0xaf8+653-0xd80);}start=rl32eGetTicksDouble();while((z3283caa368[(0xd8d+4242-0x1e1f)]&(0x1061+4159-0x209e))==(0x6a1+4704-0x1901)){z19c4ca5f82=rl32eGetTicksDouble();if(z19c4ca5f82-start>1193000.0*0.2){printf("\x25\x73\x3a\x20\x45\x52\x52\x4f\x52\x20\x70\x72\x65\x70\x61\x72\x69\x6e\x67\x20\x46\x50\x47\x41\x20\x66\x61\x69\x6c\x65\x64" "\n",z16ba527520);return;}}printf("\x25\x73\x3a\x20\x73\x74\x61\x72\x74\x20\x70\x72\x6f\x67\x72\x61\x6d\x6d\x69\x6e\x67\x20\x46\x50\x47\x41" "\n",z16ba527520);printf("\x25\x73\x3a\x20\x25\x64\x20\x62\x79\x74\x65\x73\x20\x74\x6f\x20\x64\x6f\x77\x6e\x6c\x6f\x61\x64" "\n",z16ba527520,(uint32_T)((zf81a32dab8)[(0x1325+4476-0x24a1)]));if(z78caf1ba61<(0x1130+5732-0x2654)){for(z812c65ff2f=(0x9ff+6360-0x22d5);z812c65ff2f<(uint32_T)((zf81a32dab8)[(0x1cab+1635-0x230e)])+(0x1593+2244-0x1e55);z812c65ff2f++)z3283caa368[(0x26b9+1040-0x1ac9)]=(uint8_T)((zf81a32dab8)[z812c65ff2f]);}else{for(z812c65ff2f=(0x119f+643-0x1420);z812c65ff2f<(uint32_T)((zf81a32dab8)[(0x25d6+225-0x26b7)])+(0x3ad+2154-0xc15);z812c65ff2f++)z3283caa368[(0xd20+5554-0x22ca)]=(uint8_T)((zf81a32dab8)[z812c65ff2f]);}start=rl32eGetTicksDouble();while((z3283caa368[(0x1193+2441-0x1b1c)]&(0x11e0+3324-0x1edb))==(0x1aaf+2793-0x2598)){z19c4ca5f82=rl32eGetTicksDouble();if(z19c4ca5f82-start>1193000.0*0.2){
printf("\x25\x73\x3a\x20\x45\x52\x52\x4f\x52\x20\x70\x72\x6f\x67\x72\x61\x6d\x6d\x69\x6e\x67\x20\x46\x50\x47\x41\x20\x66\x61\x69\x6c\x65\x64" "\n",z16ba527520);return;}}printf("\x25\x73\x3a\x20\x70\x72\x6f\x67\x72\x61\x6d\x6d\x69\x6e\x67\x20\x46\x50\x47\x41\x20\x63\x6f\x6d\x70\x6c\x65\x74\x65\x64" "\n",z16ba527520);}zd7dc6a39d3=(0x195f+2074-0x2179);z582cdb4021=(0x80d+1176-0xca5);zb84c45336e=(0xa2+1476-0x666);z2ce3a660d9=(0x646+3269-0x130b);for(i=(0x413+281-0x52c);i<z3fdcb5a4af;i++){if(mxGetPr(z2e390019d2)[i]>=THRESHOLD){zd7dc6a39d3|=(0x183b+2013-0x2017)<<i;}}for(i=(0xd2c+4939-0x2077);i<z968f5aad03;i++){if(mxGetPr(zda06aecc0b)[i]>=THRESHOLD){z582cdb4021|=(0x33b+1314-0x85c)<<i;}}if((z3fdcb5a4af+z968f5aad03)>(0x1532+3936-0x2472)){z2afed1cdc6[z374c2aee40]=zd7dc6a39d3;z2afed1cdc6[z2a5df66c8e]=z582cdb4021;}else{z2afed1cdc6[z374c2aee40]=zd7dc6a39d3+(z582cdb4021<<(0x1e6d+678-0x2103));}for(i=(0x703+5769-0x1d8c);i<zd9914327e8;i++){if(mxGetPr(zf768aabc64)[i]>=THRESHOLD){zb84c45336e|=((0x10ff+1729-0x17bf)<<i);}}for(i=(0x906+3238-0x15ac);i<z0abd2bf124;i++){if(mxGetPr(z61407191e1)[i]>=THRESHOLD){if(zd9914327e8>=(0x1975+909-0x1ce2)){z2ce3a660d9|=((0xbc8+1051-0xfe2)<<i);}else{zb84c45336e|=((0x249+6766-0x1cb6)<<(i+zd9914327e8));}}}if((z0abd2bf124+zd9914327e8)>(0xceb+4554-0x1e95)){z2afed1cdc6[z04cf08d130]=~zb84c45336e;z2afed1cdc6[z44fc0c618c]=~z2ce3a660d9;

}else{z2afed1cdc6[z04cf08d130]=(uint32_T)(4294967295&zb84c45336e);}
#endif
}static void mdlOutputs(SimStruct*S,int_T z27c0327a06){}static void mdlTerminate(SimStruct*S){
#ifndef MATLAB_MEX_FILE 
uint32_T z78caf1ba61;uint32_T zb1e8c5b496,z01c7541bf3,z5e0c083826,z621f8688e0,z3fdcb5a4af,z968f5aad03,z374c2aee40,z2a5df66c8e,i,z52754d10b7;uint32_T base=ssGetIWorkValue(S,z6a0da049de);volatile uint32_T*z2afed1cdc6;z78caf1ba61=(uint32_T)mxGetPr(z533b11d03f)[(0xaa3+6665-0x24ac)];z2afed1cdc6=(void*)base;switch(z78caf1ba61){case(0x744+5358-0x1b05):case(0xd3d+2035-0x13f9):z3fdcb5a4af=(0x1c5+2559-0xba4);z968f5aad03=(0x4e3+439-0x67a);z374c2aee40=8194;z2a5df66c8e=8195;break;case(0xed9+963-0x116e):case(0x1340+2983-0x1daf):z3fdcb5a4af=(0x168f+546-0x18a1);z968f5aad03=(0x17b6+1653-0x1e1b);z374c2aee40=8194;break;case(0x28b+788-0x470):case(0x1da+8474-0x21bb):z3fdcb5a4af=(0x2303+952-0x26ab);z968f5aad03=(0x1eb3+78-0x1ee9);z374c2aee40=(0x25ac+8211-0x25bd);z2a5df66c8e=(0x21b4+4844-0x149d);break;case(0xa86+3318-0x164c):case(0x171a+3280-0x22b0):z3fdcb5a4af=(0x55c+5931-0x1c77);z968f5aad03=(0x105b+2836-0x1b5f);z374c2aee40=(0x21e1+146-0x271);break;case(0xb30+2697-0x1478):z3fdcb5a4af=(0x85+4088-0x105d);z968f5aad03=(0x140f+2344-0x1d17);z374c2aee40=9600;z2a5df66c8e=9601;break;}z5e0c083826=z2afed1cdc6[z374c2aee40];if((z3fdcb5a4af+z968f5aad03)>(0x1792+1962-0x1f1c)){z621f8688e0=z2afed1cdc6[z2a5df66c8e];}zb1e8c5b496=(0x57f+752-0x86f);z01c7541bf3=(0x938+7563-0x26c3);for(i=(0x10e9+1443-0x168c);i<z3fdcb5a4af;i++){if(mxGetPr(z048dc3d76c)[i]>THRESHOLD){if(mxGetPr(z2e390019d2)[i]>THRESHOLD){z52754d10b7=(0x1144+1014-0x1539);}else{z52754d10b7=(0x5ab+6378-0x1e95);}zb1e8c5b496|=z52754d10b7<<i;}else{zb1e8c5b496|=z5e0c083826&((0x505+505-0x6fd)<<i);}}for(i=(0xf56+5734-0x25bc);i<z968f5aad03;i++){if(mxGetPr(z229876d7a9)[i]>THRESHOLD){if(mxGetPr(zda06aecc0b)[i]>THRESHOLD){z52754d10b7=(0xc17+2239-0x14d5);}else{z52754d10b7=(0xed+8015-0x203c);}z01c7541bf3|=z52754d10b7<<i;}else{z01c7541bf3|=z621f8688e0&((0xd7+8510-0x2214)<<i);}}if((z3fdcb5a4af+z968f5aad03)>(0xa78+127-0xad7)){z2afed1cdc6[z374c2aee40]=zb1e8c5b496;z2afed1cdc6[z2a5df66c8e]=z01c7541bf3;}else{z2afed1cdc6[z374c2aee40]=zb1e8c5b496+(z01c7541bf3<<(0x5c0+735-0x88f));}
#endif    
}
#ifdef MATLAB_MEX_FILE  
#include "simulink.c"   
#else
#include "cg_sfun.h"    
#endif

