<!DOCTYPE HTML>
<html>
<head>
   <title>IO30X, IO31X &gt; Driver configuration &gt; PWM capture driver block &gt; Usage Notes</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 

      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
     .p_Heading1{ color: #147EC2;
    font-size: 1.455em !important;
     border-bottom: 1px solid #E0E1E1;
    color: #147EC2;
    font-size: 17px;
    font-weight: bold;
    line-height: 20px;
    padding-bottom: 4px;}
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "usage_notes_cap_io30x.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<div id="breadcrumbs" style="display:none"><a href="io30x.htm">IO30X, IO31X</a> &gt; <a href="driver_configuration_io30x.htm">Driver configuration</a> &gt; <a href="cap_driver_block_io30x.htm">PWM capture driver block</a></div>

<div id="printheader"><h1 class="p_Heading1"><span class="f_Heading1">Usage Notes</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;" cellspacing="0" cellpadding="0"> 
  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   
   <h1 class="p_Heading1"><span class="f_Heading1">Usage Notes</span></h1>

    
  </tr>  
</table>
<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser --> 
<!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->

<!--ZOOMRESTART-->
<p>Key functionality supported by the CAP (Capture) FPGA code module includes measuring: </p>
<p>&nbsp;</p>
<p style="text-align: justify; line-height: 1.15; padding: 0px 0px 0px 24px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span>pulse durations</p><p style="text-align: justify; line-height: 1.15; padding: 0px 0px 0px 24px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span>period durations</p><p style="text-align: justify; line-height: 1.15; padding: 0px 0px 0px 24px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span>PWM duty-cycles</p><p>&nbsp;</p>
<p>Measurements can be configured to begin and end on a low-to-high transition or a high-to-low transition. This is done using the 'Start event vector' and 'Stop event vector' configuration parameters. Use a value of 0 represents a high-to-low transition and 1 a low-to-high transition.</p>
<p>&nbsp;</p>
<p>At the Start event the counter begins to count up from 0 and stops at the defined Stop event. The counter value is then latched into an output register before being is reset to 0 for the next measurement cycle. The latched value can then be read at any time by the Simulink driver block.</p>
<p>&nbsp;</p>
<p>The figure below shows the possible measurements:</p>
<p>&nbsp;</p>
<p style="text-align: justify; line-height: 1.15; padding: 0px 0px 0px 24px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span>A: Duration of High pulse ('Start event' = low-to-high and 'Stop event' =high-to-low)</p><p style="text-align: justify; line-height: 1.15; padding: 0px 0px 0px 24px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span>B: Duration of Low pulse (when 'Start event' = high-to-low and 'Stop event' = low-to-high)</p><p style="text-align: justify; line-height: 1.15; padding: 0px 0px 0px 24px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span>C: Period between Low-to-High transitions (when 'Start event' = low-to-high and 'Stop event' = low-to-high)</p><p style="text-align: justify; line-height: 1.15; padding: 0px 0px 0px 24px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span>D: Period between High-to-Low transitions (when 'Start event' = high-to-low and 'Stop event' = high-to-low)</p><p><img src="cap_diag.png" width="548" height="188" alt="cap_diag" style="border:none" /></p>
<p>&nbsp;</p>
<p>The same input signal can be routed to more than one CAP channel. For example, one CAP channel could capture the high pulse duration and the second the period duration. The ratio of both captured counts would lead to the duty cycle of a PWM signal assuming a non-constant period duration.</p>
<p>&nbsp;</p>
<p>The measurement values has units of FPGA ticks (1/33MHz ~ 30.3ns). To convert to seconds, the returned captured count should be multiplied by 1/33e6.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Period vector</span></p>
<p>&nbsp;</p>
<p>Normally when measuring PWM signals the measurement value will not be able to indicate duty cycles of 0 and 100%.</p>
<p>&nbsp;</p>
<p>To overcome this limitation, the 'Period vector' parameter can be set to the anticipated PWM period -1. Now for a duty cycle of 0% a measurement value of 0 will be returned, and for 100% duty cycle a measurement value of Period vector value -1 will be returned. When not using this feature 'Period vector' should be set to 0.</p>
<p>&nbsp;</p>
<p>The 'period vector' parameter is actually a maximum measurement value. After this time if the Stop event has not triggered, the measurement will automatically finish and a new one will begin immediately.</p>
<p>&nbsp;</p>
<p>In addition the PWM Input FPGA Code Module allows a trigger to be used in order to synchronize the measurement with the period of the PWM signal. Please <a href="http://www.speedgoat.ch/ContactUs.aspx" target="_blank" class="weblink">contact Speedgoat</a> for further information about this FPGA Code Module.</p>
<p>&nbsp;</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">

var lastSlashPos = document.URL.lastIndexOf("/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") : document.URL.lastIndexOf("\\");
if( document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh" )
{
 if (document.all) setTimeout(function() {nsrInit();},20); 
    else nsrInit();
 } 


</script>
</body>
</html>









































