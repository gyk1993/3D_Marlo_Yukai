<!DOCTYPE HTML>
<html>
<head>
   <title>IO503, IO504 &gt; Usage notes &gt; Minimum model sample time &gt; Latency in reading the FIFOs</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 

      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
     .p_Heading1{ color: #147EC2;
    font-size: 1.455em !important;
     border-bottom: 1px solid #E0E1E1;
    color: #147EC2;
    font-size: 17px;
    font-weight: bold;
    line-height: 20px;
    padding-bottom: 4px;}
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "receive_fifo_clearing.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<div id="breadcrumbs" style="display:none"><a href="io503.htm">IO503, IO504</a> &gt; <a href="usage_notes.htm">Usage notes</a> &gt; <a href="minimum_model_sample_time.htm">Minimum model sample time</a></div>

<div id="printheader"><h1 class="p_Heading1"><span class="f_Heading1">Latency in reading the FIFOs</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;" cellspacing="0" cellpadding="0"> 
  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   
   <h1 class="p_Heading1"><span class="f_Heading1">Latency in reading the FIFOs</span></h1>

    
  </tr>  
</table>
<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser --> 
<!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->

<!--ZOOMRESTART-->
<p style="line-height: 1.70; margin: 0px 0px 11px 0px;">A FIFO (First Input First Output) is a data buffer, where the first byte to arrive is the first byte to leave. The IO503 and IO504 both provide 64 bytes of FIFO for each serial channel on the module.</p>
<p style="line-height: 1.70; margin: 0px 0px 11px 0px;">The parameter “Receive FIFO interrupt level” in the Simulink driver block &quot;RS-232/RS-422/RS-485 Send/Receive&quot; (<span style="color: #0563c1; text-decoration: underline;"><a href="http://www.mathworks.com/help/xpc/io_ref/rs232rs422rs485sendreceivecomposite.html" target="_blank" class="weblink">www.mathworks.com/help/xpc/io_ref/rs232rs422rs485sendreceivecomposite.html</a>)</span> defines when the FIFOs are read and cleared.</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="border:none; border-spacing:0px; border-collapse:collapse;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:85px; background-color:#177cbd; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt; font-weight: bold; color: #ffffff;">'Receive FIFO interrupt level' setting</span></p>
</td>
<td colspan="2" style="vertical-align:top; width:507px; background-color:#177cbd; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt; font-weight: bold; color: #ffffff;">Number of bytes in FIFO after which the buffer will be read and cleared</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:85px; background-color:#177cbd; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="color: #000000;">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:254px; background-color:#177cbd; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt; font-weight: bold; color: #ffffff;">IO503/IO504 </span><br />
<span style="font-size: 8pt; color: #ffffff;">(64 bytes of FIFO per channel)</span></p>
</td>
<td style="vertical-align:top; width:239px; background-color:#177cbd; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt; font-weight: bold; color: #ffffff;">On-board RS232 ports </span><br />
<span style="font-size: 8pt; color: #ffffff;">(16C550 compliant, 16 bytes of FIFO)</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:85px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">1</span></p>
</td>
<td style="vertical-align:top; width:254px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">1</span></p>
</td>
<td style="vertical-align:top; width:239px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">1</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:85px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">Quarter full</span></p>
</td>
<td style="vertical-align:top; width:254px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">16</span></p>
</td>
<td style="vertical-align:top; width:239px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">4</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:85px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">Half full</span></p>
</td>
<td style="vertical-align:top; width:254px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">32</span></p>
</td>
<td style="vertical-align:top; width:239px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">8</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:85px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">Almost full</span></p>
</td>
<td style="vertical-align:top; width:254px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">56</span></p>
</td>
<td style="vertical-align:top; width:239px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">14</span></p>
</td>
</tr>
</table>
</div>
<p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="color: #000000;">&nbsp;</span><br />
Whenever the FIFO is cleared, a PCI interrupt is generated introducing an interrupt latency of 10 µs, and a FIFO read latency of 3 µs per byte.</p>
<p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-style: italic; font-weight: bold;">Examples</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="border:none; border-spacing:0px; border-collapse:collapse;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:173px; background-color:#177cbd; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt; font-weight: bold; color: #ffffff;">Number of bytes received</span></p>
</td>
<td style="vertical-align:top; width:166px; background-color:#177cbd; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt; font-weight: bold; color: #ffffff;">Receive FIFO interrupt level</span></p>
</td>
<td style="vertical-align:top; width:238px; background-color:#177cbd; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt; font-weight: bold; color: #ffffff;">Latency</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:173px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">100</span></p>
</td>
<td style="vertical-align:top; width:166px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">1</span></p>
</td>
<td style="vertical-align:top; width:238px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 11pt;">(10 µs + 1* 3) * 100 &nbsp; &nbsp; &nbsp; &nbsp;= 1300µs</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:173px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">16</span></p>
</td>
<td style="vertical-align:top; width:166px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">quarter full</span></p>
</td>
<td style="vertical-align:top; width:238px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 11pt;">10 µs + 32 * 3  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 106µs</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:173px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">32</span></p>
</td>
<td style="vertical-align:top; width:166px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 8pt;">half full</span></p>
</td>
<td style="vertical-align:top; width:238px; padding:4px; border:solid 1px #000000;"><p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-size: 11pt;">10 µs + 16 * 3  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 58µs</span></p>
</td>
</tr>
</table>
</div>
<p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="color: #000000;">&nbsp;</span><br />
If only 1-16 bytes are received and 1 byte is defined as the receive FIFO level, then latency would be 10 µs + 1* 3 = 13µs. However, for each receiving message a minimum of one 16-byte receiving message block is required. Therefore the minimal latency is always 10 µs + 16 * 3 = 58 µs<span style="font-family: Calibri;">.</span></p>
<p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="color: #000000;">&nbsp;</span></p>
<p style="line-height: 1.70; margin: 0px 0px 11px 0px;"><span style="font-style: italic; font-weight: bold;">Total FIFO latency</span></p>
<p style="line-height: 1.70; margin: 0px 0px 11px 0px;">To calculate the total latency the latencies of each serial channel must be summed, and this value used in the calculation.</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">

var lastSlashPos = document.URL.lastIndexOf("/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") : document.URL.lastIndexOf("\\");
if( document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh" )
{
 if (document.all) setTimeout(function() {nsrInit();},20); 
    else nsrInit();
 } 


</script>
</body>
</html>









































