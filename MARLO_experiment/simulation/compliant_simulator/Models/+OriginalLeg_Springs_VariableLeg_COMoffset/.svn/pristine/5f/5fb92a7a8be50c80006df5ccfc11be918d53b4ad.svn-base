/* ATRIAS3D_POSITIONS_HIP 
 * Generated by writeOptimizedFunctions (10 Oct 2016 10:24:36)
 */

#include "ATRIAS3D_Positions_Hip.h"

void ATRIAS3D_Positions_Hip(const double q[16], double pcm[3], double p0[3], double p0T[3], double pHR[3], double p1R[3], double p2R[3], double p3R[3], double p4R[3], double pHL[3], double p1L[3], double p2L[3], double p3L[3], double p4L[3])
{
  double xT = q[0];
  double yT = q[1];
  double zT = q[2];
  double qzT = q[3];
  double qyT = q[4];
  double qxT = q[5];
  double q1R = q[6];
  double q2R = q[7];
  double q1L = q[8];
  double q2L = q[9];
  double qgr1R = q[10];
  double qgr2R = q[11];
  double q3R = q[12];
  double qgr1L = q[13];
  double qgr2L = q[14];
  double q3L = q[15];

  double t1;
  double t10;
  double t104;
  double t105;
  double t108;
  double t11;
  double t12;
  double t126;
  double t129;
  double t131;
  double t132;
  double t133;
  double t136;
  double t137;
  double t138;
  double t139;
  double t14;
  double t142;
  double t143;
  double t144;
  double t15;
  double t159;
  double t16;
  double t162;
  double t164;
  double t165;
  double t17;
  double t18;
  double t184;
  double t2;
  double t20;
  double t208;
  double t21;
  double t22;
  double t228;
  double t23;
  double t231;
  double t233;
  double t234;
  double t235;
  double t24;
  double t244;
  double t247;
  double t249;
  double t25;
  double t250;
  double t26;
  double t27;
  double t278;
  double t3;
  double t30;
  double t300;
  double t31;
  double t322;
  double t33;
  double t35;
  double t36;
  double t37;
  double t4;
  double t41;
  double t43;
  double t44;
  double t47;
  double t48;
  double t5;
  double t50;
  double t51;
  double t52;
  double t53;
  double t6;
  double t60;
  double t63;
  double t66;
  double t7;
  double t71;
  double t72;
  double t75;
  double t77;
  double t8;
  double t84;
  double t87;
  double t9;
  double t94;
  double t97;

  t1=sin(qzT);
  t2=cos(qxT);
  t3=t1*t2;
  t5=cos(qzT);
  t6=sin(qyT);
  t7=t5*t6;
  t8=sin(qxT);
  t9=t7*t8;
  t10=-t3+t9;
  t11=cos(qgr2L);
  t14=t1*t8;
  t15=t7*t2;
  t16=t14+t15;
  t17=cos(q3L);
  t18=t16*t17;
  t21=cos(qyT);
  t22=t5*t21;
  t23=sin(q3L);
  t24=t22*t23;
  t25=-t24+t18;
  t26=sin(qgr2L);
  t33=cos(q1L);
  t36=sin(q1L);
  t43=0.5632509675550607e-3*t3-0.1921208562644173e-2*t10*t11+0.1519139320949094e-2*t18+0.1509630182832136e0*t14-0.1921208562644173e-2*t25*t26+0.1929872411855646e-2*t25*t11-0.1929872411855646e-2*t10*t26+0.3398172114871207e-3*t10*t33+0.3398172114871207e-3*t25*t36+0.7476565615762858e-2*t25*t33-0.7476565615762858e-2*t10*t36;
  t44=cos(q1R);
  t47=cos(q3R);
  t48=t16*t47;
  t50=sin(q3R);
  t51=t22*t50;
  t52=t51+t48;
  t53=sin(q1R);
  t60=cos(qgr1R);
  t63=sin(qgr1R);
  t72=cos(qgr1L);
  t75=0.3398172114871207e-3*t10*t44+0.1519139320949094e-2*t48+0.3398172114871207e-3*t52*t53+0.7476565615762858e-2*t52*t44-0.7476565615762858e-2*t10*t53+0.1953462608228318e-2*t10*t60+0.1953462608228318e-2*t52*t63+0.1942475754413761e-2*t52*t60-0.1942475754413761e-2*t10*t63-0.5731161176002540e-1*t16*t50+0.1953462608228318e-2*t10*t72;
  t77=sin(qgr1L);
  t84=cos(qgr2R);
  t87=sin(qgr2R);
  t94=cos(q2R);
  t97=sin(q2R);
  t104=0.1953462608228318e-2*t25*t77+0.1942475754413761e-2*t25*t72-0.1942475754413761e-2*t10*t77-0.1921208562644173e-2*t10*t84-0.1921208562644173e-2*t52*t87+0.1929872411855646e-2*t52*t84-0.1929872411855646e-2*t10*t87-0.1911894034835472e-3*t10*t94-0.1911894034835472e-3*t52*t97+0.7126706962557625e-2*t52*t94-0.7126706962557625e-2*t10*t97;
  t105=cos(q2L);
  t108=sin(q2L);
  t126=-0.1911894034835472e-3*t10*t105-0.1911894034835472e-3*t25*t108+0.7126706962557625e-2*t25*t105-0.7126706962557625e-2*t10*t108-0.5731161176002540e-1*t16*t23-0.5632509675550607e-3*t9-0.1519139320949094e-2*t24+0.1509630182832136e0*t15+0.1519139320949094e-2*t51-0.5731161176002540e-1*t22*t17+0.5731161176002540e-1*t22*t47+0.9999999999999999e0*xT;
  t129=t5*t2;
  t131=t1*t6;
  t132=t131*t8;
  t133=t129+t132;
  t136=t5*t8;
  t137=t131*t2;
  t138=-t136+t137;
  t139=t138*t17;
  t142=t1*t21;
  t143=t142*t23;
  t144=-t143+t139;
  t159=-0.5632509675550607e-3*t129-0.1921208562644173e-2*t133*t11+0.1519139320949094e-2*t139-0.1509630182832136e0*t136-0.1921208562644173e-2*t144*t26+0.1929872411855646e-2*t144*t11-0.1929872411855646e-2*t133*t26+0.3398172114871207e-3*t133*t33+0.3398172114871207e-3*t144*t36+0.7476565615762858e-2*t144*t33-0.7476565615762858e-2*t133*t36;
  t162=t138*t47;
  t164=t142*t50;
  t165=t164+t162;
  t184=0.3398172114871207e-3*t133*t44+0.1519139320949094e-2*t162+0.3398172114871207e-3*t165*t53+0.7476565615762858e-2*t165*t44-0.7476565615762858e-2*t133*t53+0.1953462608228318e-2*t133*t60+0.1953462608228318e-2*t165*t63+0.1942475754413761e-2*t165*t60-0.1942475754413761e-2*t133*t63-0.5731161176002540e-1*t138*t50+0.1953462608228318e-2*t133*t72;
  t208=0.1953462608228318e-2*t144*t77+0.1942475754413761e-2*t144*t72-0.1942475754413761e-2*t133*t77-0.1921208562644173e-2*t133*t84-0.1921208562644173e-2*t165*t87+0.1929872411855646e-2*t165*t84-0.1929872411855646e-2*t133*t87-0.1911894034835472e-3*t133*t94-0.1911894034835472e-3*t165*t97+0.7126706962557625e-2*t165*t94-0.7126706962557625e-2*t133*t97;
  t228=-0.1911894034835472e-3*t133*t105-0.1911894034835472e-3*t144*t108+0.7126706962557625e-2*t144*t105-0.7126706962557625e-2*t133*t108-0.5731161176002540e-1*t138*t23-0.5632509675550607e-3*t132-0.1519139320949094e-2*t143+0.1509630182832136e0*t137+0.1519139320949094e-2*t164-0.5731161176002540e-1*t142*t17+0.5731161176002540e-1*t142*t47+0.9999999999999999e0*yT;
  t231=t6*t23;
  t233=t21*t2;
  t234=t233*t17;
  t235=t231+t234;
  t244=t21*t8;
  t247=t6*t50;
  t249=t233*t47;
  t250=-t247+t249;
  t278=0.1953462608228318e-2*t250*t63+0.1942475754413761e-2*t250*t60-0.5731161176002540e-1*t6*t47+0.1953462608228318e-2*t235*t77+0.1942475754413761e-2*t235*t72-0.1921208562644173e-2*t250*t87+0.1929872411855646e-2*t250*t84-0.1911894034835472e-3*t250*t97+0.7126706962557625e-2*t250*t94-0.1911894034835472e-3*t235*t108+0.7126706962557625e-2*t235*t105;
  t300=0.5731161176002540e-1*t6*t17+0.1953462608228318e-2*t244*t72-0.1911894034835472e-3*t244*t94+0.1519139320949094e-2*t249-0.7126706962557625e-2*t244*t97-0.1929872411855646e-2*t244*t87-0.5731161176002540e-1*t233*t50-0.7126706962557625e-2*t244*t108+0.1519139320949094e-2*t234-0.1921208562644173e-2*t244*t84-0.5731161176002540e-1*t233*t23;
  t322=0.3398172114871207e-3*t244*t33-0.7476565615762858e-2*t244*t36-0.1942475754413761e-2*t244*t77-0.1911894034835472e-3*t244*t105-0.1921208562644173e-2*t244*t11-0.1929872411855646e-2*t244*t26+0.3398172114871207e-3*t244*t44-0.7476565615762858e-2*t244*t53+0.1953462608228318e-2*t244*t60-0.1942475754413761e-2*t244*t63+0.9999999999999999e0*zT;
  pcm[0]=t43+t75+t104+t126;
  pcm[1]=t159+t184+t208+t228;
  pcm[2]=0.1519139320949094e-2*t231-0.1921208562644173e-2*t235*t26+0.1929872411855646e-2*t235*t11+0.3398172114871207e-3*t235*t36+0.7476565615762858e-2*t235*t33-0.5632509675550607e-3*t244+0.1509630182832136e0*t233-0.1519139320949094e-2*t247+0.3398172114871207e-3*t250*t53+0.7476565615762858e-2*t250*t44+t278+t300+t322;


  p0[0]=xT;
  p0[1]=yT;
  p0[2]=zT;


  t1=sin(qzT);
  t2=sin(qxT);
  t5=cos(qzT);
  t6=sin(qyT);
  t8=cos(qxT);
  t18=cos(qyT);
  p0T[0]=xT+0.5800000000000000e0*t1*t2+0.5800000000000000e0*t5*t6*t8;
  p0T[1]=yT-0.5800000000000000e0*t5*t2+0.5800000000000000e0*t1*t6*t8;
  p0T[2]=zT+0.5800000000000000e0*t18*t8;


  t1=cos(qzT);
  t2=cos(qyT);
  t4=cos(q3R);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t12=cos(qxT);
  t15=sin(q3R);
  pHR[0]=xT+0.1834000000000000e0*t1*t2*t4-0.1834000000000000e0*(t7*t8+t1*t10*t12)*t15;
  pHR[1]=yT+0.1834000000000000e0*t7*t2*t4-0.1834000000000000e0*(-t1*t8+t7*t10*t12)*t15;
  pHR[2]=zT-0.1834000000000000e0*t10*t4-0.1834000000000000e0*t2*t12*t15;


  t1=cos(qzT);
  t2=cos(qyT);
  t3=t1*t2;
  t4=cos(q3R);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t11=t1*t10;
  t12=cos(qxT);
  t14=t7*t8+t11*t12;
  t15=sin(q3R);
  t21=sin(q1R);
  t27=cos(q1R);
  t31=t7*t2;
  t35=t7*t10;
  t37=-t1*t8+t35*t12;
  t53=t2*t12;
  p1R[0]=xT+0.1834000000000000e0*t3*t4-0.1834000000000000e0*t14*t15-0.4000000000000000e0*(-t7*t12+t11*t8)*t21+0.4000000000000000e0*(t3*t15+t14*t4)*t27;
  p1R[1]=yT+0.1834000000000000e0*t31*t4-0.1834000000000000e0*t37*t15-0.4000000000000000e0*(t1*t12+t35*t8)*t21+0.4000000000000000e0*(t31*t15+t37*t4)*t27;
  p1R[2]=zT-0.1834000000000000e0*t10*t4-0.1834000000000000e0*t53*t15-0.4000000000000000e0*t2*t8*t21+0.4000000000000000e0*(-t10*t15+t53*t4)*t27;


  t1=cos(qzT);
  t2=cos(qyT);
  t3=t1*t2;
  t4=cos(q3R);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t11=t1*t10;
  t12=cos(qxT);
  t14=t7*t8+t11*t12;
  t15=sin(q3R);
  t21=sin(q2R);
  t27=cos(q2R);
  t31=t7*t2;
  t35=t7*t10;
  t37=-t1*t8+t35*t12;
  t53=t2*t12;
  p2R[0]=xT+0.1834000000000000e0*t3*t4-0.1834000000000000e0*t14*t15-0.5000000000000000e0*(-t7*t12+t11*t8)*t21+0.5000000000000000e0*(t3*t15+t14*t4)*t27;
  p2R[1]=yT+0.1834000000000000e0*t31*t4-0.1834000000000000e0*t37*t15-0.5000000000000000e0*(t1*t12+t35*t8)*t21+0.5000000000000000e0*(t31*t15+t37*t4)*t27;
  p2R[2]=zT-0.1834000000000000e0*t10*t4-0.1834000000000000e0*t53*t15-0.5000000000000000e0*t2*t8*t21+0.5000000000000000e0*(-t10*t15+t53*t4)*t27;


  t1=cos(qzT);
  t2=cos(qyT);
  t3=t1*t2;
  t4=cos(q3R);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t11=t1*t10;
  t12=cos(qxT);
  t14=t7*t8+t11*t12;
  t15=sin(q3R);
  t20=-t7*t12+t11*t8;
  t21=sin(q1R);
  t26=t3*t15+t14*t4;
  t27=cos(q1R);
  t30=sin(q2R);
  t33=cos(q2R);
  t37=t7*t2;
  t41=t7*t10;
  t43=-t1*t8+t41*t12;
  t48=t1*t12+t41*t8;
  t53=t37*t15+t43*t4;
  t63=t2*t12;
  t66=t2*t8;
  t71=-t10*t15+t63*t4;
  p3R[0]=xT+0.1834000000000000e0*t3*t4-0.1834000000000000e0*t14*t15-0.4000000000000000e0*t20*t21+0.4000000000000000e0*t26*t27-0.5000000000000000e0*t20*t30+0.5000000000000000e0*t26*t33;
  p3R[1]=yT+0.1834000000000000e0*t37*t4-0.1834000000000000e0*t43*t15-0.4000000000000000e0*t48*t21+0.4000000000000000e0*t53*t27-0.5000000000000000e0*t48*t30+0.5000000000000000e0*t53*t33;
  p3R[2]=zT-0.1834000000000000e0*t10*t4-0.1834000000000000e0*t63*t15-0.4000000000000000e0*t66*t21+0.4000000000000000e0*t71*t27-0.5000000000000000e0*t66*t30+0.5000000000000000e0*t71*t33;


  t1=cos(qzT);
  t2=cos(qyT);
  t3=t1*t2;
  t4=cos(q3R);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t11=t1*t10;
  t12=cos(qxT);
  t14=t7*t8+t11*t12;
  t15=sin(q3R);
  t20=-t7*t12+t11*t8;
  t21=sin(q2R);
  t26=t3*t15+t14*t4;
  t27=cos(q2R);
  t30=sin(q1R);
  t33=cos(q1R);
  t37=t7*t2;
  t41=t7*t10;
  t43=-t1*t8+t41*t12;
  t48=t1*t12+t41*t8;
  t53=t37*t15+t43*t4;
  t63=t2*t12;
  t66=t2*t8;
  t71=-t10*t15+t63*t4;
  p4R[0]=xT+0.1834000000000000e0*t3*t4-0.1834000000000000e0*t14*t15-0.5000000000000000e0*t20*t21+0.5000000000000000e0*t26*t27-0.5000000000000000e0*t20*t30+0.5000000000000000e0*t26*t33;
  p4R[1]=yT+0.1834000000000000e0*t37*t4-0.1834000000000000e0*t43*t15-0.5000000000000000e0*t48*t21+0.5000000000000000e0*t53*t27-0.5000000000000000e0*t48*t30+0.5000000000000000e0*t53*t33;
  p4R[2]=zT-0.1834000000000000e0*t10*t4-0.1834000000000000e0*t63*t15-0.5000000000000000e0*t66*t21+0.5000000000000000e0*t71*t27-0.5000000000000000e0*t66*t30+0.5000000000000000e0*t71*t33;


  t1=cos(qzT);
  t2=cos(qyT);
  t4=cos(q3L);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t12=cos(qxT);
  t15=sin(q3L);
  pHL[0]=xT-0.1834000000000000e0*t1*t2*t4-0.1834000000000000e0*(t7*t8+t1*t10*t12)*t15;
  pHL[1]=yT-0.1834000000000000e0*t7*t2*t4-0.1834000000000000e0*(-t1*t8+t7*t10*t12)*t15;
  pHL[2]=zT+0.1834000000000000e0*t10*t4-0.1834000000000000e0*t2*t12*t15;


  t1=cos(qzT);
  t2=cos(qyT);
  t3=t1*t2;
  t4=cos(q3L);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t11=t1*t10;
  t12=cos(qxT);
  t14=t7*t8+t11*t12;
  t15=sin(q3L);
  t21=sin(q1L);
  t27=cos(q1L);
  t31=t7*t2;
  t35=t7*t10;
  t37=-t1*t8+t35*t12;
  t53=t2*t12;
  p1L[0]=xT-0.1834000000000000e0*t3*t4-0.1834000000000000e0*t14*t15-0.4000000000000000e0*(-t7*t12+t11*t8)*t21+0.4000000000000000e0*(-t3*t15+t14*t4)*t27;
  p1L[1]=yT-0.1834000000000000e0*t31*t4-0.1834000000000000e0*t37*t15-0.4000000000000000e0*(t1*t12+t35*t8)*t21+0.4000000000000000e0*(-t31*t15+t37*t4)*t27;
  p1L[2]=zT+0.1834000000000000e0*t10*t4-0.1834000000000000e0*t53*t15-0.4000000000000000e0*t2*t8*t21+0.4000000000000000e0*(t10*t15+t53*t4)*t27;


  t1=cos(qzT);
  t2=cos(qyT);
  t3=t1*t2;
  t4=cos(q3L);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t11=t1*t10;
  t12=cos(qxT);
  t14=t7*t8+t11*t12;
  t15=sin(q3L);
  t21=sin(q2L);
  t27=cos(q2L);
  t31=t7*t2;
  t35=t7*t10;
  t37=-t1*t8+t35*t12;
  t53=t2*t12;
  p2L[0]=xT-0.1834000000000000e0*t3*t4-0.1834000000000000e0*t14*t15-0.5000000000000000e0*(-t7*t12+t11*t8)*t21+0.5000000000000000e0*(-t3*t15+t14*t4)*t27;
  p2L[1]=yT-0.1834000000000000e0*t31*t4-0.1834000000000000e0*t37*t15-0.5000000000000000e0*(t1*t12+t35*t8)*t21+0.5000000000000000e0*(-t31*t15+t37*t4)*t27;
  p2L[2]=zT+0.1834000000000000e0*t10*t4-0.1834000000000000e0*t53*t15-0.5000000000000000e0*t2*t8*t21+0.5000000000000000e0*(t10*t15+t53*t4)*t27;


  t1=cos(qzT);
  t2=cos(qyT);
  t3=t1*t2;
  t4=cos(q3L);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t11=t1*t10;
  t12=cos(qxT);
  t14=t7*t8+t11*t12;
  t15=sin(q3L);
  t20=-t7*t12+t11*t8;
  t21=sin(q1L);
  t26=-t3*t15+t14*t4;
  t27=cos(q1L);
  t30=sin(q2L);
  t33=cos(q2L);
  t37=t7*t2;
  t41=t7*t10;
  t43=-t1*t8+t41*t12;
  t48=t1*t12+t41*t8;
  t53=-t37*t15+t43*t4;
  t63=t2*t12;
  t66=t2*t8;
  t71=t10*t15+t63*t4;
  p3L[0]=xT-0.1834000000000000e0*t3*t4-0.1834000000000000e0*t14*t15-0.4000000000000000e0*t20*t21+0.4000000000000000e0*t26*t27-0.5000000000000000e0*t20*t30+0.5000000000000000e0*t26*t33;
  p3L[1]=yT-0.1834000000000000e0*t37*t4-0.1834000000000000e0*t43*t15-0.4000000000000000e0*t48*t21+0.4000000000000000e0*t53*t27-0.5000000000000000e0*t48*t30+0.5000000000000000e0*t53*t33;
  p3L[2]=zT+0.1834000000000000e0*t10*t4-0.1834000000000000e0*t63*t15-0.4000000000000000e0*t66*t21+0.4000000000000000e0*t71*t27-0.5000000000000000e0*t66*t30+0.5000000000000000e0*t71*t33;


  t1=cos(qzT);
  t2=cos(qyT);
  t3=t1*t2;
  t4=cos(q3L);
  t7=sin(qzT);
  t8=sin(qxT);
  t10=sin(qyT);
  t11=t1*t10;
  t12=cos(qxT);
  t14=t7*t8+t11*t12;
  t15=sin(q3L);
  t20=-t7*t12+t11*t8;
  t21=sin(q2L);
  t26=-t3*t15+t14*t4;
  t27=cos(q2L);
  t30=sin(q1L);
  t33=cos(q1L);
  t37=t7*t2;
  t41=t7*t10;
  t43=-t1*t8+t41*t12;
  t48=t1*t12+t41*t8;
  t53=-t37*t15+t43*t4;
  t63=t2*t12;
  t66=t2*t8;
  t71=t10*t15+t63*t4;
  p4L[0]=xT-0.1834000000000000e0*t3*t4-0.1834000000000000e0*t14*t15-0.5000000000000000e0*t20*t21+0.5000000000000000e0*t26*t27-0.5000000000000000e0*t20*t30+0.5000000000000000e0*t26*t33;
  p4L[1]=yT-0.1834000000000000e0*t37*t4-0.1834000000000000e0*t43*t15-0.5000000000000000e0*t48*t21+0.5000000000000000e0*t53*t27-0.5000000000000000e0*t48*t30+0.5000000000000000e0*t53*t33;
  p4L[2]=zT+0.1834000000000000e0*t10*t4-0.1834000000000000e0*t63*t15-0.5000000000000000e0*t66*t21+0.5000000000000000e0*t71*t27-0.5000000000000000e0*t66*t30+0.5000000000000000e0*t71*t33;


  return;
}

