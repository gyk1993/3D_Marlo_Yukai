/* Copyright 2006-2013 Speedgoat GmbH. */
#define 	S_FUNCTION_LEVEL 	(0x639+7964-0x2553)
#undef 		S_FUNCTION_NAME
#define 	S_FUNCTION_NAME 	sg_fpga_spi_sf_a1
#include 	<stddef.h>
#include 	<stdlib.h>
#include 	"simstruc.h"
#ifdef 		MATLAB_MEX_FILE
#include 	"mex.h"
#endif
#ifndef         MATLAB_MEX_FILE
#include        <windows.h>
#include        "io_xpcimport.h"
#include        "pci_xpcimport.h"
#include        "time_xpcimport.h"
#include        "ioext_xpcimport.h"
#include        "util_xpcimport.h"
#endif
#define zdf24515981        ((0x13df+1252-0x18b4))
#define z533b11d03f         ssGetSFcnParam(S,  (0xdc0+34-0xde2)) 
#define za9d8fb6bcf           ssGetSFcnParam(S,  (0xf88+2198-0x181d)) 
#define z31fb671cb8              ssGetSFcnParam(S,  (0x1bc4+1986-0x2384))
#define z86af52d74e              ssGetSFcnParam(S,  (0x724+7331-0x23c4))
#define z1ca1c73d42      ssGetSFcnParam(S,  (0x2036+1729-0x26f3))
#define zf5ee62a4ad      ssGetSFcnParam(S,  (0x1c31+1004-0x2018))
#define z3a4907dee5          ssGetSFcnParam(S,  (0x21aa+25-0x21bd))
#define zb0ce0940e9         ssGetSFcnParam(S,  (0x9b8+2401-0x1312))
#define zb00b469153        ssGetSFcnParam(S,  (0xe50+843-0x1193))
#define zd259a80613    ssGetSFcnParam(S,  (0x6db+5288-0x1b7a))
#define zbdd1493fee         ssGetSFcnParam(S, (0x1b69+1755-0x223a))
#define z5afbf66955      ssGetSFcnParam(S, (0x75c+6491-0x20ac))
#define z9bc0bec087     ssGetSFcnParam(S, (0x884+3869-0x1795))
#define z3832b85a32         ssGetSFcnParam(S, (0x12f3+3017-0x1eaf))
#define z702a26a5e9              ssGetSFcnParam(S, (0x1d8f+517-0x1f86))
#define z2e6483d505            ((0x60f+8399-0x26dd))
#define zc5ce4cb81a            ((0x582+8344-0x261a))
#define z2b17e2ee3b            ((0xdd+9283-0x2520))
#define z6a0da049de       ((0xb13+221-0xbf0))
#define z9b67aa523f              851968 
static char_T zea4cd01646[(0xd5a+3313-0x194b)];typedef struct{uint32_T z15923ef3d9[(0x416+3620-0x121a)];uint32_T za746b13f73[(0x32f+8066-0x2291)];uint32_T z02bb7b1721[(0x6a3+2911-0x11e2)];uint32_T z1ad71181ab[(0x257+7630-0x2005)];uint32_T z2681ed6ece[(0x19a3+1003-0x1d6e)];uint32_T z28e9d9261f[(0x1b17+1568-0x2117)];uint32_T z42ad4eacaf[(0xe55+1438-0x13d3)];uint32_T zfe18d134a8[(0x1e08+1141-0x225d)];uint32_T z86bb419998[(0xae2+590-0xd10)];uint32_T z08fefe38a9[(0xd8c+4882-0x207e)];uint32_T zb15396a870[(0x5a+1991-0x801)];uint32_T zdd951fbe16[(0x2bd+4375-0x13b4)];uint32_T z64fc736a62[(0x1b7+4620-0x13a3)];uint32_T zaf2186d9ec[(0xce7+390-0xe4d)];uint32_T z2ae1a9d412[(0x2bd+3230-0xf3b)];uint32_T z07f373fbd4[(0x12a1+3580-0x207d)];uint32_T zac3cadef55[(0xa92+3739-0x190d)];uint32_T za3910307c9[(0xa7+6237-0x18e4)];uint32_T zd176e82c10[(0xc5d+658-0xecf)];uint32_T z4ae288e0c9[(0x14f2+2697-0x1f5b)];uint32_T z12402c138a[(0x1c41+284-0x1d3d)];uint32_T z8575031947[(0x719+7616-0x24b9)];uint32_T zf64b65d5a7;uint32_T z2f1801d2e2;uint32_T zbea4a89f24;uint32_T zdc0d676974;uint32_T z556bd4727a;uint32_T z19690b6adb;uint32_T z73b6066883;}z69e58993ac;void z1bceafb7d6(uint32_T*zb9e8f50428,uint32_T*z5b2574d0cd,uint32_T z15923ef3d9,uint32_T za746b13f73){int32_T i,z26dbd73a5e,z5f52b5adb3;uint8_T z718c4c15f4[(0x181b+1734-0x1de1)]={(0x49c+4887-0x17b3)};
for(i=(0xabd+2198-0x1353);i<(0xb96+2838-0x16a4);i++){zb9e8f50428[i]=(0x24c+695-0x503);}


z5f52b5adb3=(0x38c+5914-0x19a7);for(i=za746b13f73-(0x19ab+2296-0x22a2);i>=(0xd6a+1799-0x1471);i--){for(z26dbd73a5e=z15923ef3d9-(0x267+8085-0x21fb);z26dbd73a5e>=(0x1516+835-0x1859);z26dbd73a5e--){if((z5b2574d0cd[i]&((0x118f+3948-0x20fa)<<z26dbd73a5e))>(0x12f7+5088-0x26d7)){z718c4c15f4[z5f52b5adb3]=(0x21cf+761-0x24c7);}z5f52b5adb3--;}}

z5f52b5adb3=(0x1cbd+1461-0x2272);for(i=(0x40+6172-0x185c);i<(0x389+3867-0x129c);i++){for(z26dbd73a5e=(0x1f4f+1104-0x239f);z26dbd73a5e<(0x3bf+1022-0x79d);z26dbd73a5e++){if(z718c4c15f4[z5f52b5adb3]){zb9e8f50428[i]|=((0x11ef+4379-0x2309)<<z26dbd73a5e);}z5f52b5adb3++;}
}}
void z1339a94323(uint32_T*zbcc3fe600b,uint32_T*z96295371e9,int32_T z15923ef3d9,int32_T za746b13f73){uint8_T z718c4c15f4[(0x240+1514-0x72a)]={(0x13b+1293-0x648)};int32_T i,z26dbd73a5e,z5f52b5adb3;

for(i=(0xbf2+443-0xdad);i<za746b13f73;i++){zbcc3fe600b[i]=(0x14e5+2341-0x1e0a);}


z5f52b5adb3=(0xbd5+6729-0x261e);for(i=(0x736+7688-0x253e);i<(0x83d+4653-0x1a62);i++){for(z26dbd73a5e=(0x244+8055-0x21bb);z26dbd73a5e<(0x8c6+1997-0x1073);z26dbd73a5e++){if((z96295371e9[i]&((0x1573+1618-0x1bc4)<<z26dbd73a5e))>(0xb48+3890-0x1a7a)){z718c4c15f4[z5f52b5adb3]=(0x2e0+4598-0x14d5);}z5f52b5adb3++;}}
z5f52b5adb3=(0x153a+1639-0x1ba1);for(i=(0xfc7+4841-0x22b0);i<za746b13f73;i++){for(z26dbd73a5e=(0x8c4+1672-0xf4c);z26dbd73a5e<z15923ef3d9;z26dbd73a5e++){if(z718c4c15f4[z5f52b5adb3]){zbcc3fe600b[i]|=((0x91c+3290-0x15f5)<<z26dbd73a5e);}z5f52b5adb3++;}}}
static void mdlInitializeSizes(SimStruct*S){uint32_T i,zbc7ebd0e53;ssSetNumSFcnParams(S,zdf24515981);if(ssGetNumSFcnParams(S)!=ssGetSFcnParamsCount(S)){sprintf(zea4cd01646,"\x57\x72\x6f\x6e\x67\x20\x6e\x75\x6d\x62\x65\x72\x20\x6f\x66\x20\x69\x6e\x70\x75\x74\x20\x61\x72\x67\x75\x6d\x65\x6e\x74\x73\x20\x70\x61\x73\x73\x65\x64\x2e" "\n" "\x25\x64\x20\x61\x72\x67\x75\x6d\x65\x6e\x74\x73\x20\x61\x72\x65\x20\x65\x78\x70\x65\x63\x74\x65\x64" "\n",zdf24515981);ssSetErrorStatus(S,zea4cd01646);return;}ssSetNumContStates(S,(0x76+8562-0x21e8));ssSetNumDiscStates(S,(0x2d8+8087-0x226f));if((uint32_T)mxGetPr(z5afbf66955)[(0xdb0+2245-0x1675)]){zbc7ebd0e53=(uint32_T)mxGetN(za9d8fb6bcf);}else{zbc7ebd0e53=(0xc48+1658-0x12c2);}ssSetNumInputPorts(S,zbc7ebd0e53);for(i=(0x56c+3837-0x1469);i<zbc7ebd0e53;i++){ssSetInputPortDataType(S,i,SS_UINT32);ssSetInputPortWidth(S,i,(uint32_T)mxGetPr(zb0ce0940e9)[i]);ssSetInputPortDirectFeedThrough(S,i,(0x789+2790-0x126e));ssSetInputPortRequiredContiguous(S,i,(0x73f+3884-0x166a));}if((uint32_T)mxGetPr(z9bc0bec087)[(0x10b9+5154-0x24db)]){zbc7ebd0e53=(uint32_T)mxGetN(za9d8fb6bcf);}else{zbc7ebd0e53=(0x181a+1209-0x1cd3);}ssSetNumOutputPorts(S,zbc7ebd0e53);for(i=(0x636+6797-0x20c3);i<zbc7ebd0e53;i++){ssSetOutputPortDataType(S,i,SS_UINT32);ssSetOutputPortWidth(S,i,(uint32_T)mxGetPr(zb0ce0940e9)[i]);}ssSetNumSampleTimes(S,(0x236+7908-0x2119));ssSetNumRWork(S,zc5ce4cb81a);ssSetNumIWork(S,z2e6483d505);ssSetNumPWork(S,z2b17e2ee3b);ssSetNumModes(S,(0xdaf+3874-0x1cd1));ssSetNumNonsampledZCs(S,(0x15b1+2627-0x1ff4));for(i=(0x43d+6808-0x1ed5);i<zdf24515981;i++){ssSetSFcnParamTunable(S,i,(0x11c7+556-0x13f3));}ssSetOptions(S,SS_OPTION_EXCEPTION_FREE_CODE|SS_OPTION_PLACE_ASAP);}static void mdlInitializeSampleTimes(SimStruct*S){if(mxGetPr(z3832b85a32)[(0xfe3+5722-0x263d)]==-1.0){ssSetSampleTime(S,(0x563+2782-0x1041),INHERITED_SAMPLE_TIME);ssSetOffsetTime(S,(0xbca+353-0xd2b),FIXED_IN_MINOR_STEP_OFFSET);}else{ssSetSampleTime(S,(0x9df+5146-0x1df9),mxGetPr(z3832b85a32)[(0x13ca+4098-0x23cc)]);ssSetOffsetTime(S,(0x1e38+1362-0x238a),0.0);}}
#define MDL_START
static void mdlStart(SimStruct*S){
#ifndef MATLAB_MEX_FILE
xpcPCIDevice zeccbadd9b3;int32_T z366b2f03bf,z441f9e6d1b;uint32_T i,z4e3026977c,zbea4a89f24,zdc0d676974,zf64b65d5a7;volatile z69e58993ac*zb9f7147b6c;uint8_T z16ba527520[(0x18c+4606-0x1376)];uint16_T z6f813cde47,za4a2434e08,z05b56d9d51,z182d03571c;uint32_T z78caf1ba61;z78caf1ba61=(uint32_T)mxGetPr(z533b11d03f)[(0xaf9+4464-0x1c69)];z6f813cde47=z05b56d9d51=(0x1db9+3085-0x12f1);switch(z78caf1ba61){case(0x46f+6045-0x1adf):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x30\x31");za4a2434e08=z182d03571c=17232;break;case(0x25b0+184-0x253a):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x30\x32");za4a2434e08=z182d03571c=17239;break;case(0x4e1+8829-0x262f):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x30\x33");za4a2434e08=z182d03571c=16979;break;case(0x16a7+4305-0x2648):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x30\x34");za4a2434e08=z182d03571c=1284;break;case(0x6bc+5776-0x1c15):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x31\x31");za4a2434e08=z182d03571c=21069;break;case(0x1467+524-0x153b):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x31\x32");za4a2434e08=z182d03571c=16971;break;case(0x2f7+1249-0x69f):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x31\x33");za4a2434e08=z182d03571c=17235;break;case(0x2f7+1560-0x7d5):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x31\x34");za4a2434e08=z182d03571c=(0x25b4+6913-0x20b1);break;case(0x197c+622-0x1aa9):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x32\x31");za4a2434e08=z182d03571c=19520;break;case(0x187f+3188-0x23a8):strcpy(z16ba527520,"\x53\x70\x65\x65\x64\x67\x6f\x61\x74\x20\x49\x4f\x33\x33\x31");za4a2434e08=z182d03571c=22273;break;default:sprintf(zea4cd01646,"\x62\x6f\x61\x72\x64\x20\x74\x79\x70\x65\x20\x69\x6e\x63\x6f\x72\x72\x65\x63\x74\x2e");ssSetErrorStatus(S,zea4cd01646);return;}if(mxGetN(z702a26a5e9)==(0x15b+5352-0x1642)){z366b2f03bf=(0x1b0a+533-0x1d1f);z441f9e6d1b=(int_T)mxGetPr(z702a26a5e9)[(0x125f+4181-0x22b4)];}else{z366b2f03bf=(int_T)mxGetPr(z702a26a5e9)[(0x1880+3705-0x26f9)];z441f9e6d1b=(int_T)mxGetPr(z702a26a5e9)[(0x13f6+3095-0x200c)];}if(xpcGetPCIDeviceInfo(z6f813cde47,za4a2434e08,z05b56d9d51,z182d03571c,z366b2f03bf,z441f9e6d1b,&zeccbadd9b3)){sprintf(zea4cd01646,"\x25\x73\x20\x28\x62\x75\x73\x20\x25\x64\x2c\x20\x73\x6c\x6f\x74\x20\x25\x64\x29\x3a\x20\x62\x6f\x61\x72\x64\x20\x6e\x6f\x74\x20\x70\x72\x65\x73\x65\x6e\x74",z16ba527520,z366b2f03bf,z441f9e6d1b);ssSetErrorStatus(S,zea4cd01646);return;}zeccbadd9b3.VirtAddress[(0x91a+4464-0x1a88)]=(unsigned long)xpcReserveMemoryRegion((void*)zeccbadd9b3.BaseAddress[(0x816+5994-0x1f7e)],2097152,XPC_RT_PG_USERREADWRITE);ssSetIWorkValue(S,z6a0da049de,zeccbadd9b3.VirtAddress[(0x179f+74-0x17e7)]);zb9f7147b6c=(z69e58993ac*)(zeccbadd9b3.VirtAddress[(0xd1d+3439-0x1a8a)]+z9b67aa523f);
if(!xpceIsModelInit()){
zbea4a89f24=zb9f7147b6c->zbea4a89f24;zdc0d676974=zb9f7147b6c->zdc0d676974;zf64b65d5a7=zb9f7147b6c->zf64b65d5a7;for(i=(0x446+7989-0x237b);i<(uint32_T)mxGetN(za9d8fb6bcf);i++){z4e3026977c=(uint32_T)mxGetPr(za9d8fb6bcf)[i]-(0xd69+2648-0x17c0);if((uint32_T)mxGetPr(z31fb671cb8)[i]){zbea4a89f24|=((0x1d82+63-0x1dc0)<<z4e3026977c);}else{zbea4a89f24&=~((0x67d+6780-0x20f8)<<z4e3026977c);}if((uint32_T)mxGetPr(z86af52d74e)[i]){zdc0d676974|=((0x482+2077-0xc9e)<<z4e3026977c);}else{zdc0d676974&=~((0x98d+160-0xa2c)<<z4e3026977c);}if((uint32_T)mxGetPr(z1ca1c73d42)[i]==(0xc7+7185-0x1cd7)){zf64b65d5a7|=((0x1977+3065-0x256f)<<z4e3026977c);}else{zf64b65d5a7&=~((0x155+4791-0x140b)<<z4e3026977c);}zb9f7147b6c->z15923ef3d9[z4e3026977c]=(uint32_T)mxGetPr(z3a4907dee5)[i];zb9f7147b6c->za746b13f73[z4e3026977c]=(uint32_T)mxGetPr(zb0ce0940e9)[i];zb9f7147b6c->z02bb7b1721[z4e3026977c]=(uint32_T)mxGetPr(zb00b469153)[i];zb9f7147b6c->z1ad71181ab[z4e3026977c]=(uint32_T)mxGetPr(zd259a80613)[i];zb9f7147b6c->z2681ed6ece[z4e3026977c]=(uint32_T)mxGetPr(zbdd1493fee)[i];zb9f7147b6c->z28e9d9261f[z4e3026977c]=(uint32_T)mxGetPr(zf5ee62a4ad)[i];}zb9f7147b6c->zbea4a89f24=zbea4a89f24;zb9f7147b6c->zdc0d676974=zdc0d676974;zb9f7147b6c->zf64b65d5a7=zf64b65d5a7;}
#endif
}static void mdlOutputs(SimStruct*S,int_T z27c0327a06){
#ifndef MATLAB_MEX_FILE
int32_T base,i,z26dbd73a5e,z4e3026977c,zcd308d01c9;volatile z69e58993ac*zb9f7147b6c;uint32_T*in,*out;
uint32_T z4840e5f93b[(0x262+3246-0xf08)],*z9f72036884;
uint32_T z96295371e9[(0x59+1990-0x817)],*zbcc3fe600b;base=ssGetIWorkValue(S,z6a0da049de);zb9f7147b6c=(z69e58993ac*)(base+z9b67aa523f);if((uint32_T)mxGetPr(z5afbf66955)[(0x376+5984-0x1ad6)])
{zcd308d01c9=(0x1870+953-0x1c29);
for(i=(0x676+6981-0x21bb);i<(int32_T)mxGetN(za9d8fb6bcf);i++){z4e3026977c=(int32_T)mxGetPr(za9d8fb6bcf)[i]-(0x1484+2611-0x1eb6);z9f72036884=malloc((int32_T)mxGetPr(zb0ce0940e9)[i]*sizeof(uint32_T));in=(uint32_T*)ssGetInputPortSignal(S,i);for(z26dbd73a5e=(0x2dc+1541-0x8e1);z26dbd73a5e<(int32_T)mxGetPr(zb0ce0940e9)[i];z26dbd73a5e++){z9f72036884[z26dbd73a5e]=in[z26dbd73a5e];}z1bceafb7d6(z4840e5f93b,z9f72036884,(int32_T)mxGetPr(z3a4907dee5)[i],(int32_T)mxGetPr(zb0ce0940e9)[i]);

zb9f7147b6c->z2ae1a9d412[z4e3026977c]=z4840e5f93b[(0xbbf+2416-0x152f)];
zb9f7147b6c->z07f373fbd4[z4e3026977c]=z4840e5f93b[(0xc27+4247-0x1cbd)];
zb9f7147b6c->zac3cadef55[z4e3026977c]=z4840e5f93b[(0x440+5495-0x19b5)];zb9f7147b6c->za3910307c9[z4e3026977c]=z4840e5f93b[(0x710+7874-0x25cf)];zb9f7147b6c->zd176e82c10[z4e3026977c]=z4840e5f93b[(0xad6+5155-0x1ef5)];zb9f7147b6c->z4ae288e0c9[z4e3026977c]=z4840e5f93b[(0x1e5+9363-0x2673)];zb9f7147b6c->z12402c138a[z4e3026977c]=z4840e5f93b[(0x96c+149-0x9fb)];
zb9f7147b6c->z8575031947[z4e3026977c]=z4840e5f93b[(0xead+1101-0x12f3)];
free(z9f72036884);
zcd308d01c9|=((0x421+134-0x4a6)<<z4e3026977c);}
zb9f7147b6c->z2f1801d2e2=zcd308d01c9;zb9f7147b6c->z2f1801d2e2=(0x13f9+2354-0x1d2b);}if((uint32_T)mxGetPr(z9bc0bec087)[(0x1ff0+1477-0x25b5)]){
if((uint32_T)mxGetPr(z1ca1c73d42)[(0x5dd+725-0x8b2)]==(0xe6f+5390-0x237c)){while((zb9f7147b6c->z556bd4727a&zcd308d01c9)!=zcd308d01c9);}
for(i=(0x1200+1316-0x1724);i<(int32_T)mxGetN(za9d8fb6bcf);i++){z4e3026977c=(int32_T)mxGetPr(za9d8fb6bcf)[i]-(0x4d5+6217-0x1d1d);
z96295371e9[(0x214+2557-0xc11)]=zb9f7147b6c->z42ad4eacaf[z4e3026977c];
z96295371e9[(0x212c+252-0x2227)]=zb9f7147b6c->zfe18d134a8[z4e3026977c];
z96295371e9[(0x15e9+1508-0x1bcb)]=zb9f7147b6c->z86bb419998[z4e3026977c];
z96295371e9[(0x613+4881-0x1921)]=zb9f7147b6c->z08fefe38a9[z4e3026977c];
z96295371e9[(0xf33+4272-0x1fdf)]=zb9f7147b6c->zb15396a870[z4e3026977c];
z96295371e9[(0x2e3+340-0x432)]=zb9f7147b6c->zdd951fbe16[z4e3026977c];
z96295371e9[(0x97a+1107-0xdc7)]=zb9f7147b6c->z64fc736a62[z4e3026977c];
z96295371e9[(0x7ab+2820-0x12a8)]=zb9f7147b6c->zaf2186d9ec[z4e3026977c];

zbcc3fe600b=malloc((int32_T)mxGetPr(zb0ce0940e9)[i]*sizeof(uint32_T));z1339a94323(zbcc3fe600b,z96295371e9,(int32_T)mxGetPr(z3a4907dee5)[i],(int32_T)mxGetPr(zb0ce0940e9)[i]);
out=(uint32_T*)ssGetOutputPortSignal(S,i);for(z26dbd73a5e=(0x1a98+3090-0x26aa);z26dbd73a5e<(int32_T)mxGetPr(zb0ce0940e9)[i];z26dbd73a5e++){out[z26dbd73a5e]=zbcc3fe600b[z26dbd73a5e];}
free(zbcc3fe600b);}}
#endif
}static void mdlTerminate(SimStruct*S){
#ifndef MATLAB_MEX_FILE
#endif
}
#ifdef MATLAB_MEX_FILE  
#include "simulink.c"   
#else
#include "cg_sfun.h"    
#endif
